<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Levels Academy – Courses Plugin</title>
  <style>
    :root{
      --bg:#f4f5f5;
      --card:#aee2d7;
      --chip:#17b890;
      --pill:#ffe453;
      --text:#10201a;
      --muted:#2b3c34;
      --shadow: 0 18px 30px rgba(0,0,0,.08);
      --radius:22px;
      --radius-pill:28px;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      background:var(--bg);
      color:var(--text);
    }
    .wrap{max-width:1200px;margin:28px auto;padding:0 16px 48px}
    .tabs, .subtabs{display:flex;gap:16px;flex-wrap:wrap;margin-bottom:22px}
    .tab-btn, .subtab-btn{
      padding:16px 24px;border-radius:999px;border:0;cursor:pointer;background:#fff;box-shadow:var(--shadow);
      font-weight:700;letter-spacing:.2px;font-size:1.1rem;transition:all .25s ease;
    }
    .tab-btn[aria-selected="true"], .subtab-btn[aria-selected="true"]{background:var(--card)}
    .tab-btn:hover, .subtab-btn:hover{transform:scale(1.05)}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:22px;transition:all .3s ease}
    .card{background:var(--card);border-radius:28px;padding:26px 24px;box-shadow:var(--shadow);position:relative;display:flex;flex-direction:column;min-height:340px;transition:transform .3s ease, max-height .3s ease;overflow:hidden;cursor:pointer}
    .card:hover{transform:scale(1.03)}
    .title{font-size:26px;line-height:1.15;margin:4px 0 12px;font-weight:900;letter-spacing:.2px}
    .age{display:inline-block;background:var(--pill);border-radius:var(--radius-pill);padding:6px 10px;font-weight:800;max-width:max-content}
    .desc{color:var(--muted);margin:16px 0 18px;line-height:1.5}
    .chips{display:flex;flex-wrap:wrap;gap:14px;margin-top:auto}
    .chip{background:#fff;border-radius:var(--radius-pill);padding:10px 16px;font-weight:800;display:inline-block;box-shadow:var(--shadow)}
    .price{display:flex;align-items:baseline;gap:8px;margin:18px 0 0;font-size:28px;font-weight:900}
    .per{font-size:16px;font-weight:700}
    .hidden{display:none !important}
  </style>
  <style id="overrides">
    /* --- Overrides requested by Lasha --- */
    .title{font-size:26px;line-height:1.2}
    .age{display:inline-flex;padding:6px 12px;border-radius:28px;background:var(--pill);font-weight:800;width:fit-content}
    .cta{display:none !important}
    .card{transition:transform .2s ease}
    .card:hover{transform:translateY(-2px) scale(1.01)}

    .tab-btn{padding:14px 22px;font-size:18px;font-weight:800}
    .tab-btn[aria-selected="true"]{background:var(--card)}
    .subtab-btn{padding:12px 18px;font-size:17px;font-weight:700}
    .subtab-btn[aria-selected="true"]{background:var(--card)}

    /* Expand/collapse animation for panels */
    [role=tabpanel].panel{overflow:hidden;max-height:0;opacity:0;transform:scaleY(.98);transition:max-height .4s ease, opacity .25s ease, transform .25s ease;will-change:max-height}
    [role=tabpanel].panel.is-open{max-height:5000px;opacity:1;transform:scaleY(1)}
  </style>
</head>
<body>
  <div class="wrap" id="app">
    <div class="tabs">
      <button class="tab-btn" id="tab-en" aria-selected="true">English Language Courses</button>
      <button class="tab-btn" id="tab-art" aria-selected="false">Art Courses</button>
    </div>
    <div id="subtabs-en" class="subtabs">
      <button class="subtab-btn" id="sub-children" aria-selected="true">children</button>
      <button class="subtab-btn" id="sub-teenagers" aria-selected="false">teenagers</button>
      <button class="subtab-btn" id="sub-adults" aria-selected="false">adults</button>
      <button class="subtab-btn" id="sub-corporate" aria-selected="false">corporate</button>
    </div>
    <section id="panel-en">
      <div id="subpanel-children"><div class="grid" data-grid="children"></div></div>
      <div id="subpanel-teenagers" class="hidden"><div class="grid" data-grid="teenagers"></div></div>
      <div id="subpanel-adults" class="hidden"><div class="grid" data-grid="adults"></div></div>
      <div id="subpanel-corporate" class="hidden"><div class="grid" data-grid="corporate"></div></div>
    </section>
    <section id="panel-art" class="hidden"><div class="grid" data-grid="art"></div></section>
  </div>
  <script>
    const data = {children:[{title:"Sunday School",age:"6 – 10 y.o.",desc:"Desc.",chips:["10 months","43 sessions","86 hours"],price:"155",priceNote:"per month",link:"#"},{title:"Saturday School",age:"6 – 10 y.o.",desc:"Desc.",chips:["10 months","43 sessions","86 hours"],price:"155",priceNote:"per month",link:"#"},{title:"General English",age:"6 – 10 y.o.",desc:"Desc.",chips:["10 months","43 sessions","86 hours"],price:"150",priceNote:"per month",link:"#"}],teenagers:[],adults:[],corporate:[],art:[]};
    const currency="₾";
    function renderGroup(name){
      const grid=document.querySelector(`[data-grid="${name}"]`);
      grid.innerHTML=data[name].map(c=>{
        return `<article class="card" onclick="location.href='${c.link}'">
          <div class="title">${c.title}</div>
          <span class="age">${c.age}</span>
          <p class="desc">${c.desc}</p>
          <div class="chips">${c.chips.map(ch=>`<span class='chip'>${ch}</span>`).join('')}</div>
          <div class="price"><span>${currency}${c.price}</span><span class="per">${c.priceNote}</span></div>
        </article>`;
      }).join('');
    }
    ["children","teenagers","adults","corporate","art"].forEach(renderGroup);
    document.getElementById('tab-en').onclick=()=>{selMain(true)};
    document.getElementById('tab-art').onclick=()=>{selMain(false)};
    function selMain(en){
      document.getElementById('tab-en').setAttribute('aria-selected',en);
      document.getElementById('tab-art').setAttribute('aria-selected',!en);
      document.getElementById('panel-en').classList.toggle('hidden',!en);
      document.getElementById('panel-art').classList.toggle('hidden',en);
      document.getElementById('subtabs-en').classList.toggle('hidden',!en);
    }
    ["children","teenagers","adults","corporate"].forEach(id=>{
      document.getElementById(`sub-${id}`).onclick=()=>{
        ["children","teenagers","adults","corporate"].forEach(o=>{
          document.getElementById(`sub-${o}`).setAttribute('aria-selected',o===id);
          document.getElementById(`subpanel-${o}`).classList.toggle('hidden',o!==id);
        });
      }
    });
  </script>
  <script id="override-logic">
    (function(){
      // Turn all tabpanels into animated panels and set initial state
      const allPanels = Array.from(document.querySelectorAll('[role="tabpanel"]'))
      allPanels.forEach(p=>{p.classList.add('panel'); p.classList.remove('hidden')});
      document.getElementById('panel-en')?.classList.add('is-open');
      document.getElementById('subpanel-children')?.classList.add('is-open');

      // Helper to replace node to remove prior listeners
      function replaceWithClone(el){ const n = el.cloneNode(true); el.parentNode.replaceChild(n, el); return n; }

      // Main tabs
      let tabEn = document.getElementById('tab-en');
      let tabArt = document.getElementById('tab-art');
      if(tabEn&&tabArt){
        tabEn = replaceWithClone(tabEn);
        tabArt = replaceWithClone(tabArt);
        tabEn.addEventListener('click', ()=>{
          tabEn.setAttribute('aria-selected','true');
          tabArt.setAttribute('aria-selected','false');
          document.getElementById('panel-en')?.classList.add('is-open');
          document.getElementById('panel-art')?.classList.remove('is-open');
          document.getElementById('subtabs-en')?.classList.remove('hidden');
        });
        tabArt.addEventListener('click', ()=>{
          tabEn.setAttribute('aria-selected','false');
          tabArt.setAttribute('aria-selected','true');
          document.getElementById('panel-en')?.classList.remove('is-open');
          document.getElementById('panel-art')?.classList.add('is-open');
          document.getElementById('subtabs-en')?.classList.add('hidden');
        });
      }

      // Subtabs
      const subIds = ['children','teenagers','adults','corporate'];
      subIds.forEach(id=>{
        const btn = document.getElementById('sub-'+id);
        if(!btn) return;
        const b = replaceWithClone(btn);
        b.addEventListener('click', ()=>{
          subIds.forEach(s=>{
            document.getElementById('sub-'+s)?.setAttribute('aria-selected', s===id ? 'true':'false');
            const panel = document.getElementById('subpanel-'+s);
            if(panel){ panel.classList.toggle('is-open', s===id); panel.classList.add('panel'); panel.classList.remove('hidden'); }
          });
        });
      });
    })();
  </script>
</body>
</html>
