<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Levels Academy – Courses Plugin</title>
<style>
:root{
  --bg: transparent;   /* page background is transparent behind the frame */
  --card:#aee2d7;      /* card green */
  --text:#10201a;
  --muted:#2b3c34;
  --shadow: 0 18px 30px rgba(0,0,0,.08);
  --chip:#23B899;      /* green used in your UI */
  --pill:#FFE453;      /* yellow you’ve used before */
  --title-size:24px;   /* title + price unified size */
}

/* Reset */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;overflow-x:hidden}
body{
  font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial;
  background:var(--bg);
  color:var(--text);
}

/* Frame container: top corners 0, bottom 20px */
.wrap{
  max-width:100%;
  margin:28px auto;
  padding:25px 20px;           /* 25px top/bottom as requested */
  background:#ffffff;
  border-radius:0 0 20px 20px; /* TL 0, TR 0, BR 20, BL 20 */
}

/* Main tabs: revert pressed look; width matches subtabs on desktop */
.tabbar{
  display:flex;
  gap:20px;
  justify-content:center;
  margin-bottom:22px;
  max-width:calc(4 * 200px + 3 * 14px); /* match 4 subtabs width + gaps */
  margin-left:auto;margin-right:auto;
}
.main-tab{
  flex:1;
  text-align:center;
  background:#333333;        /* dark bar always */
  color:#ffffff;             /* unpressed text = white */
  border:0;border-radius:999px;
  padding:10px 0;
  font-weight:500;font-size:18px;
  cursor:pointer;
  transition:color .2s ease,opacity .2s ease, box-shadow .2s ease;
  box-shadow:var(--shadow)
}
.main-tab[aria-selected="true"]{
  background:#333333;        /* keep background */
  color:var(--chip);         /* pressed text = green */
}
.main-tab:hover{opacity:.95}

/* Subtabs */
.subtabs{
  display:flex;gap:14px;flex-wrap:wrap;justify-content:center;margin-bottom:22px
}
.subtab-btn{
  flex:0 1 200px;max-width:200px;text-align:center;padding:10px 0;border-radius:999px;
  border:0;cursor:pointer;background:#fff;box-shadow:var(--shadow);
  font-weight:400;font-size:16px;transition:transform .15s ease,background .2s ease
}
.subtab-btn[aria-selected="true"]{background:var(--card)}
.subtab-btn:hover{transform:scale(1.02)}

/* Grid + Cards */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(420px,1fr));
  gap:24px;
}
.card{
  background:var(--card);
  border-radius:28px;
  padding:46px 30px 30px; /* +16px top to give space for icons */
  box-shadow:var(--shadow);
  position:relative;
  display:flex;
  flex-direction:column;
  min-height:380px;
  transition:transform .2s ease;
}
.card:hover{transform:translateY(-2px) scale(1.01)}

/* two small icons in the top-right (no shadow) */
.card-icons{
  position:absolute;top:14px;right:14px;
  display:flex;gap:10px;z-index:1;
}
.card-icons .icon{
  width:26px;height:26px;display:inline-flex;align-items:center;justify-content:center;
}
.card-icons .icon svg{width:100%;height:100%;display:block}
.card-icons .icon svg path{fill:currentColor}

/* Title a bit larger and dark text */
.title{
  font-size:var(--title-size);
  line-height:1.2;
  margin:4px 0 6px;
  font-weight:900;
  color:#333333;
}

/* Age line under title, italic, smaller, dark */
.age-text{
  font-size:14px;
  font-style:italic;
  color:#333333;
  margin-bottom:12px;
}

.desc{
  color:var(--muted);
  margin:16px 0 18px;
  line-height:1.5;
  word-break:break-word;
  hyphens:auto;
}

/* Chips: equal widths, 3 per row */
.chips{
  display:flex;
  flex-wrap:wrap;
  gap:14px;
  margin-top:auto;
}
.chip{
  background:var(--chip);
  color:#fff;
  border-radius:28px;
  padding:8px 12px;
  font-weight:400; /* not bold */
  flex:1 1 calc(33.333% - 14px);
  text-align:center;
  box-shadow:var(--shadow);
  font-size:14px;
  white-space:nowrap;
}

/* Price: same size as title, aligned right, dark text */
.price{
  display:block;
  text-align:right;
  margin-top:18px;
  font-size:var(--title-size);
  font-weight:900;
  color:#333333;
}
.per{
  font-size:14px;
  font-weight:700;
  color:#333333;
  margin-left:6px;
}

/* Hidden + overlay */
.hidden{display:none !important}
.card .card-overlay{
  position:absolute;inset:0;border-radius:28px;display:block;text-decoration:none;z-index:2 /* above icons so card is fully clickable */
}
.card .card-overlay:focus{outline:none}

/* Tablet */
@media (min-width:641px) and (max-width:1024px){
  .grid{grid-template-columns:repeat(2, minmax(0, 1fr));gap:22px}
  .card{min-height:440px}
}

/* Mobile */
@media (max-width:640px){
  .wrap{padding:25px 14px}
  .tabbar{flex-direction:column;max-width:none}
  .main-tab{width:100%;max-width:none;font-size:18px;padding:14px 0}
  .subtabs{justify-content:space-between}
  .subtab-btn{flex:1 1 calc(50% - 7px);max-width:calc(50% - 7px)}
  .grid{grid-template-columns:1fr}
  .card{padding:40px 20px 20px}
  .desc{display:none}
  .chips{margin-top:8px}
  .title{font-size:clamp(20px,6vw,var(--title-size))}
  .price{font-size:clamp(20px,6vw,var(--title-size))}
}
</style>
</head>
<body>
<div class="wrap" id="app">
  <div class="tabbar" role="tablist" aria-label="Course families">
    <button class="main-tab" id="tab-en" aria-selected="true">English Language Courses</button>
    <button class="main-tab" id="tab-art" aria-selected="false">Art Courses</button>
  </div>

  <div id="subtabs-en" class="subtabs" role="tablist">
    <button class="subtab-btn" id="sub-children" aria-selected="true">children</button>
    <button class="subtab-btn" id="sub-teenagers" aria-selected="false">teenagers</button>
    <button class="subtab-btn" id="sub-adults" aria-selected="false">adults</button>
    <button class="subtab-btn" id="sub-corporate" aria-selected="false">corporate</button>
  </div>

  <section id="panel-en" role="tabpanel">
    <div id="subpanel-children" role="tabpanel"><div class="grid" data-grid="children"></div></div>
    <div id="subpanel-teenagers" role="tabpanel" class="hidden"><div class="grid" data-grid="teenagers"></div></div>
    <div id="subpanel-adults" role="tabpanel" class="hidden"><div class="grid" data-grid="adults"></div></div>
    <div id="subpanel-corporate" role="tabpanel" class="hidden"><div class="grid" data-grid="corporate"></div></div>
  </section>

  <section id="panel-art" role="tabpanel" class="hidden"><div class="grid" data-grid="art"></div></section>
</div>

<script>
/* ---------- Small icon set (simple shapes; color via currentColor) ---------- */
const ICONS = {
  Star:`<svg viewBox="0 0 250 250" xmlns="http://www.w3.org/2000/svg"><path d="M58.52,253c-8.26.27-13.1-6.33-11.09-13.76 3.79-14 8-27.92 12-41.87 2.68-9.3 5.4-18.6 8-27.91 2.16-7.55.85-11.23-5.38-16.16L9.74,105c-3.58-2.86-2.25-8.35 2.47-8.46l66.48-1.36c3.97-.08 5.84-2.2 7.31-6.68l21.23-63.56c2.14-6.43 9.58-6.28 11.9.37l23.24,69.58c1.56,4.68 3.96,6.59 8.8,6.68l64.17,1.21c5.89.11 8.46 7.35 3.34 11.35l-52.57,41.73c-3.91,3.09-4.65,6.03-3.2,11l19.56,67.66c1.76,6-4.41,10-9.65,6.2l-44.06-32.43c-3.83-2.82-6.5-2.54-10.93.71l-53.79,39c-4.02,2.92-9.48.75-8.86-4.78Z"/></svg>`,
  Heart:`<svg viewBox="0 0 250 250" xmlns="http://www.w3.org/2000/svg"><path d="M3.24,252.3c-.05-2.09-.16-4.16-.16-6.23Q3,160.26,3,74.44C3,35,34.89,3.58,74.3,3A72.69,72.69,0,0,1,147.83,77.3c-.13,10.12-.08,20.25-.12,32.55,12.41-.47,24.43-1.85,36.35-1.22a72,72,0,0,1,58.21,109.76c-13.67,22.65-34.55,34.35-60.89,34.49-58.73.32-117.47-.1-176.2-.23A12.67,12.67,0,0,1,3.24,252.3Z"/></svg>`,
  Check:`<svg viewBox="0 0 250 250" xmlns="http://www.w3.org/2000/svg"><path d="M101.08,152.1c-6.67-6.77-12.59-13-18.81-19-5.48-5.25-13.63-5.42-18.72-.81-5.7,5.17-6.8,13.24-1.29,18.92C75,164.36,88.32,177,102.3,190.67c12-12.36,24-24.95,36.31-37.33 16.18-16.34 32.56-32.48 48.77-48.79 8.15-8.19-.66-19.17-11.29-18.17-3.61.34-6.54,2.56-9.13,5.13l-61,60.94c-1.93,1.94-3.96,3.65-6.38,5.85Z"/></svg>`,
  Sun:`<svg viewBox="0 0 250 250" xmlns="http://www.w3.org/2000/svg"><path d="M151,113l87-36.17 2.3,8.21L157.1,121.6 253,133v8H157.1l88.26,36.94-3.56,9.79-88.71-36.57 36.1,87.65-9.63,4-37-89V253h-9.9V157.47l-35.86,87.86-5.09-2.46 36.42-88.4L14.37,180.9 10.24,171.31 99.5,134.25H3v-11.3H98.93L10.51,85.09l3.73-9.71 89.22,36.8-36-88 9.57-4.11 38.9,97.75V3h9.9v98.59l36.77-88.47 9.66,3.83-36.38,88.17 67.48-67.51 7.81,8Z"/></svg>`
};

/* Helper text first */
function base(){
  return "This is the space to describe the service and explain how customers or clients can benefit from it. It’s an opportunity to add a short description that includes relevant details, like pricing, duration, location and how to book the service.";
}
function kidsdesc(){
  return "A fun and interactive English course for children aged 6–10, combining reading, writing, speaking, and listening skills with expert Georgian and native-speaking teachers.";
}

const data = {
  children: [
    { title:"Sunday School",   age:"6 – 10 y.o.", desc:kidsdesc(), chips:["10 months","43 sessions","86 hours"], price:"155", priceNote:"per month", link:"https://levelscenter.wixstudio.com/my-site/blank-4", icons:[{name:'Star', color:'#23B899'},{name:'Heart', color:'#FFE453'}] },
    { title:"Saturday School", age:"6 – 10 y.o.", desc:kidsdesc(), chips:["10 months","43 sessions","86 hours"], price:"155", priceNote:"per month", link:"https://levelscenter.wixstudio.com/my-site/blank-7", icons:[{name:'Check', color:'#23B899'},{name:'Sun', color:'#FFE453'}] },
    { title:"General English", age:"6 – 10 y.o.", desc:kidsdesc(), chips:["10 months","43 sessions","86 hours"], price:"150", priceNote:"per month", link:"https://levelscenter.wixstudio.com/my-site/blank-2", icons:[{name:'Heart', color:'#23B899'},{name:'Star', color:'#FFE453'}] },
  ],
  teenagers: [
    { title:"IELTS", age:"from 16 y.o.", desc:base(), chips:["5 weeks","15 sessions","30 hours"], price:"560", priceNote:"full course", link:"https://levelscenter.wixstudio.com/my-site/blank-10", icons:[{name:'Check', color:'#23B899'},{name:'Star', color:'#FFE453'}] },
    { title:"General English", age:"11 – 17 y.o.", desc:base(), chips:["4 months","48 sessions","72 hours"], price:"220", priceNote:"per month", link:"#teens-general", icons:[{name:'Star', color:'#23B899'},{name:'Heart', color:'#FFE453'}] },
    { title:"Private Lessons", age:"from 11 y.o.", desc:base(), chips:["individual","tailored","schedule"], price:"ind.", priceNote:"tailored pricing", link:"#teens-private", icons:[{name:'Heart', color:'#23B899'},{name:'Sun', color:'#FFE453'}] },
    { title:"FCE   PET   CAE", age:"from 16 y.o.", desc:base(), chips:["5 weeks","10 sessions","15 hours"], price:"350", priceNote:"per month", link:"#teens-fce", icons:[{name:'Star', color:'#23B899'},{name:'Check', color:'#FFE453'}] },
    { title:"National Exam",   age:"from 16 y.o.", desc:base(), chips:["4 months","24 sessions","48 hours"], price:"220", priceNote:"per month", link:"#teens-national", icons:[{name:'Check', color:'#23B899'},{name:'Star', color:'#FFE453'}] },
  ],
  adults: [
    { title:"IELTS", age:"from 18 y.o.", desc:base(), chips:["5 weeks","15 sessions","30 hours"], price:"560", priceNote:"full course", link:"#adults-ielts", icons:[{name:'Check', color:'#23B899'},{name:'Star', color:'#FFE453'}] },
    { title:"General English", age:"from 18 y.o.", desc:base(), chips:["4 months","48 sessions","72 hours"], price:"225", priceNote:"per month", link:"#adults-general", icons:[{name:'Star', color:'#23B899'},{name:'Heart', color:'#FFE453'}] },
    { title:"Conversational English", age:"from 18 y.o.", desc:base(), chips:["5 weeks","10 sessions","15 hours"], price:"350", priceNote:"full course", link:"#adults-conv", icons:[{name:'Heart', color:'#23B899'},{name:'Sun', color:'#FFE453'}] },
    { title:"Private Lessons", age:"from 18 y.o.", desc:base(), chips:["individual","tailored","schedule"], price:"ind.", priceNote:"tailored pricing", link:"#adults-private", icons:[{name:'Heart', color:'#23B899'},{name:'Star', color:'#FFE453'}] },
    { title:"Professional English", age:"from 18 y.o.", desc:"The course is designed for you to develop proficiency and confidence in using English effectively and clearly across diverse professional and business settings.", chips:["4 months","48 sessions","86 hours"], price:"320", priceNote:"per month", link:"#adults-pro", icons:[{name:'Check', color:'#23B899'},{name:'Star', color:'#FFE453'}] },
    { title:"FCE   PET   CAE", age:"from 18 y.o.", desc:base(), chips:["5 weeks","10 sessions","15 hours"], price:"350", priceNote:"per month", link:"#adults-fce", icons:[{name:'Star', color:'#23B899'},{name:'Check', color:'#FFE453'}] },
  ],
  corporate: [
    { title:"Corporate Courses", age:"for companies", desc:base(), chips:["individual","tailored","schedule"], price:"ind.", priceNote:"tailored pricing", link:"https://levelscenter.wixstudio.com/my-site/blank-6", icons:[{name:'Check', color:'#23B899'},{name:'Star', color:'#FFE453'}] },
  ],
  art: [
    { title:"Painting & Graphics", age:"7 – 15 y.o.", desc:base(), chips:["twice a week","8 sessions","12 hours"], price:"145", priceNote:"per month", link:"#art-kids", icons:[{name:'Star', color:'#23B899'},{name:'Heart', color:'#FFE453'}] },
    { title:"Painting & Graphics", age:"from 16 y.o.", desc:base(), chips:["twice a week","8 sessions","16 hours"], price:"225", priceNote:"per month", link:"#art-teen", icons:[{name:'Heart', color:'#23B899'},{name:'Sun', color:'#FFE453'}] },
    { title:"Portfolio Creation",  age:"from 16 y.o.", desc:base(), chips:["individual","tailored","schedule"], price:"500", priceNote:"full course", link:"#art-portfolio", icons:[{name:'Check', color:'#23B899'},{name:'Star', color:'#FFE453'}] },
  ],
};
const currency = "₾";

/* Render */
function renderIcons(pair){
  if(!pair || !pair.length) return '';
  return `<div class="card-icons">${
    pair.slice(0,2).map(ic=>{
      const svg = ICONS[ic.name] || '';
      const color = ic.color || '#333';
      return `<span class="icon" style="color:${color}">${svg}</span>`;
    }).join('')
  }</div>`;
}

function renderGroup(name){
  const grid = document.querySelector(`[data-grid="${name}"]`);
  if(!grid) return;
  grid.innerHTML = data[name].map(c=>{
    const chips = c.chips.map(ch=>`<span class="chip">${ch}</span>`).join('');
    const price = c.price === 'ind.'
      ? `<div class="price"><span>ind.</span><span class="per">  tailored pricing</span></div>`
      : `<div class="price"><span>${currency}${c.price}</span><span class="per">  ${c.priceNote}</span></div>`;
    return `<article class="card">
      ${renderIcons(c.icons)}
      <a class="card-overlay" href="${c.link}" target="_blank" rel="noopener" aria-label="Open ${c.title}"></a>
      <div class="title">${c.title}</div>
      <div class="age-text">${c.age}</div>
      <p class="desc">${c.desc}</p>
      <div class="chips">${chips}</div>
      ${price}
    </article>`;
  }).join('');
}
["children","teenagers","adults","corporate","art"].forEach(renderGroup);

/* Tabs */
function showMain(which){
  const en = which === 'en';
  document.getElementById('tab-en').setAttribute('aria-selected', en);
  document.getElementById('tab-art').setAttribute('aria-selected', !en);
  document.getElementById('panel-en').classList.toggle('hidden', !en);
  document.getElementById('panel-art').classList.toggle('hidden', en);
  document.getElementById('subtabs-en').classList.toggle('hidden', !en);
  LA_sendHeight();
}
function showSub(which){
  const ids = ['children','teenagers','adults','corporate'];
  ids.forEach(id=>{
    document.getElementById(`sub-${id}`).setAttribute('aria-selected', id===which);
    document.getElementById(`subpanel-${id}`).classList.toggle('hidden', id!==which);
  });
  LA_sendHeight();
}
document.getElementById('tab-en').addEventListener('click', ()=>showMain('en'));
document.getElementById('tab-art').addEventListener('click', ()=>showMain('art'));
['children','teenagers','adults','corporate'].forEach(id=>{
  document.getElementById(`sub-${id}`).addEventListener('click', ()=>showSub(id));
});

/* Auto-resize for Wix iframe */
(function () {
  function sendHeight() {
    requestAnimationFrame(() => {
      const h = Math.ceil(document.documentElement.scrollHeight);
      if (window.parent) {
        window.parent.postMessage({ type: 'LA_HEIGHT', height: h }, '*');
      }
    });
  }
  window.addEventListener('load', sendHeight);
  document.addEventListener('DOMContentLoaded', sendHeight);
  if (document.fonts && document.fonts.ready) document.fonts.ready.then(sendHeight);
  new ResizeObserver(sendHeight).observe(document.body);
  new MutationObserver(sendHeight).observe(document.body, { subtree: true, childList: true, attributes: true, characterData: true });
  window.addEventListener('resize', sendHeight);
  setTimeout(sendHeight, 0);
  window.LA_sendHeight = sendHeight;
})();
</script>
</body>
</html>
